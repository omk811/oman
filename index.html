<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø¯ÙŠÙ†Ø§ØµÙˆØ±Ø§Øª Ø¹Ø§Ø´Øª ÙÙŠ Ø¹ÙÙ…Ø§Ù† - Ù…Ø¹ ØªÙˆØ¶ÙŠØ­ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #1e3a5f;
      --primary-light: #2d5a3f;
      --accent-color: #d4af37;
      --success-color: #22c55e;
      --danger-color: #ef4444;
      --surface-light: #f8f9fa;
      --surface-dark: #ffffff;
      --text-dark: #1a1a1a;
      --vocab-highlight: #8b5cf6;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Tajawal', 'Cairo', 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #f8f9fa 0%, #f0f4f8 100%);
      transition: background-color 0.3s ease;
    }

    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .section-card {
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      border-radius: 16px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07), 0 10px 20px rgba(0, 0, 0, 0.05);
      position: relative;
      overflow: hidden;
    }

    .section-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #1e3a5f, #2d5a3f, #6b8e23);
      opacity: 0.6;
    }

    .section-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
    }

    .dino-icon {
      font-size: 4rem;
      filter: drop-shadow(3px 3px 8px rgba(0, 0, 0, 0.1));
      animation: dinoFloat 3s ease-in-out infinite;
    }

    @keyframes dinoFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .fade-in {
      animation: fadeInDown 0.6s ease 0.1s both;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .progress-bar {
      transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(90deg, #1e3a5f, #2d5a3f);
      box-shadow: 0 4px 12px rgba(45, 90, 63, 0.3);
    }

    .nav-button {
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
      overflow: hidden;
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .nav-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.2);
      transition: left 0.3s ease;
    }

    .nav-button:hover:not(:disabled)::before {
      left: 100%;
    }

    .nav-button:hover:not(:disabled) {
      transform: translateX(-4px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }

    .nav-button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      transform: scale(0.95);
    }

    /* Interactive Vocabulary Word Styling */
    .vocab-word {
      position: relative;
      display: inline;
      color: #8b5cf6;
      font-weight: 600;
      border-bottom: 2px dotted #8b5cf6;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0 2px;
    }

    .vocab-word:hover {
      color: #7c3aed;
      background-color: rgba(139, 92, 246, 0.1);
      border-bottom-style: solid;
    }

    .vocab-word::after {
      content: 'ğŸ“–';
      font-size: 0.7em;
      margin-right: 2px;
      opacity: 0.6;
    }

    /* Vocabulary Tooltip */
    .vocab-tooltip {
      position: fixed;
      z-index: 1000;
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      color: white;
      padding: 1.25rem;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(139, 92, 246, 0.4);
      max-width: 350px;
      animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      pointer-events: none;
    }

    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.8) translateY(10px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    .vocab-tooltip-word {
      font-size: 1.3em;
      font-weight: 700;
      margin-bottom: 0.5rem;
      border-bottom: 2px solid rgba(255, 255, 255, 0.3);
      padding-bottom: 0.5rem;
    }

    .vocab-tooltip-meaning {
      font-size: 1em;
      line-height: 1.6;
      margin-bottom: 0.5rem;
    }

    .vocab-tooltip-opposite {
      font-size: 0.95em;
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      font-style: italic;
    }

    .vocab-tooltip-close {
      position: absolute;
      top: 8px;
      left: 8px;
      width: 28px;
      height: 28px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.2em;
      transition: all 0.2s ease;
      pointer-events: all;
    }

    .vocab-tooltip-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .vocab-legend {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(124, 58, 237, 0.1));
      border-right: 4px solid #8b5cf6;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      font-size: 0.9em;
    }

    .vocab-legend-icon {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #8b5cf6;
      font-weight: 600;
    }

    .answer-box {
      animation: slideDown 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-15px); max-height: 0; }
      to { opacity: 1; transform: translateY(0); max-height: 1000px; }
    }

    @media (max-width: 768px) {
      .vocab-tooltip {
        max-width: 90vw;
        left: 5vw !important;
        right: 5vw !important;
      }
    }
  </style>
</head>
<body class="h-full">
  <div id="app" class="w-full h-full overflow-auto"></div>
  
  <script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ù…Ø¹ Ù…Ø¹Ø§Ù†ÙŠÙ‡Ø§ ÙˆÙ…Ø¶Ø§Ø¯Ø§ØªÙ‡Ø§
    const vocabularyDatabase = {
      'Ø£Ø¨Ø±Ø²': {
        meaning: 'Ø£ÙˆØ¶Ø­ ÙˆØ£Ø¸Ù‡Ø± ÙˆØ£Ù‡Ù…',
        opposite: 'Ø£Ø®ÙÙ‰ØŒ Ø£Ù‚Ù„ Ø£Ù‡Ù…ÙŠØ©'
      },
      'Ø­Ù‚Ø¨Ø©': {
        meaning: 'ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ© Ø·ÙˆÙŠÙ„Ø©ØŒ Ø¹ØµØ±',
        opposite: 'Ù„Ø­Ø¸Ø©ØŒ ÙØªØ±Ø© Ù‚ØµÙŠØ±Ø©'
      },
      'Ø§Ù„ØªØ¨Ø§ÙŠÙ†': {
        meaning: 'Ø§Ù„Ø§Ø®ØªÙ„Ø§Ù ÙˆØ§Ù„ØªÙ†ÙˆØ¹ Ø§Ù„ÙˆØ§Ø¶Ø­',
        opposite: 'Ø§Ù„ØªØ´Ø§Ø¨Ù‡ØŒ Ø§Ù„ØªÙ…Ø§Ø«Ù„'
      },
      'Ù…ØµØ§Ø¨Ù‘': {
        meaning: 'Ù…ÙˆØ¶Ø¹ Ø§Ù„ØªÙ‚Ø§Ø¡ Ù…ÙŠØ§Ù‡ Ø§Ù„Ø£Ù†Ù‡Ø§Ø± ÙˆØ§Ù„Ø£ÙˆØ¯ÙŠØ©',
        opposite: 'Ù…Ù†Ø¨Ø¹'
      },
      'Ø§Ù„Ù…Ù†Ø§Ø®': {
        meaning: 'Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ùˆ ÙÙŠ Ù…Ù†Ø·Ù‚Ø© ÙƒØ¨ÙŠØ±Ø© Ø®Ù„Ø§Ù„ Ù…Ø¯Ø© Ø²Ù…Ù†ÙŠØ© Ø·ÙˆÙŠÙ„Ø©',
        opposite: null
      },
      'Ø§Ù„Ø±ÙˆØ§Ø³Ø¨': {
        meaning: 'Ù…ÙˆØ§Ø¯ ØªØ­Ù…Ù„Ù‡Ø§ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø§Ù„Ø¬Ø§Ø±ÙŠØ© ÙˆØªØªØ±Ø³Ø¨ ÙÙŠ Ø§Ù„Ø£ÙˆØ¯ÙŠØ©',
        opposite: null
      },
      'Ø§Ù†Ø­Ø¯Ø±Øª': {
        meaning: 'Ù†Ø²Ù„Øª Ù…Ù† Ø£Ø¹Ù„Ù‰ Ø¥Ù„Ù‰ Ø£Ø³ÙÙ„',
        opposite: 'Ø§Ø±ØªÙØ¹ØªØŒ ØµØ¹Ø¯Øª'
      },
      'ØªØ±Ø³ÙŠØ¨': {
        meaning: 'Ø¥Ø³Ù‚Ø§Ø· Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØªØ¬Ù…ÙŠØ¹Ù‡Ø§ ÙÙŠ Ù…ÙƒØ§Ù†',
        opposite: 'Ø¥Ø°Ø§Ø¨Ø©ØŒ ØªÙØªÙŠØª'
      },
      'Ø§Ù„ØªØ­Ù„ÙÙ‘Ù„': {
        meaning: 'Ø§Ù„ØªÙÙƒÙƒ ÙˆØ§Ù„ØªØ¹ÙÙ† ÙˆÙÙ‚Ø¯Ø§Ù† Ø§Ù„ØªÙ…Ø§Ø³Ùƒ',
        opposite: 'Ø§Ù„ØªÙ…Ø§Ø³ÙƒØŒ Ø§Ù„Ø­ÙØ¸'
      },
      'ØªÙ…Ø§Ø«ÙÙ„': {
        meaning: 'Ø§Ù„ØªØ´Ø§Ø¨Ù‡ ÙˆØ§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©',
        opposite: 'Ø§Ø®ØªÙ„Ø§ÙØŒ ØªØ¨Ø§ÙŠÙ†'
      },
      'Ø§Ø²Ø¯Ù‡Ø§Ø±': {
        meaning: 'Ø§Ù„Ù†Ù…Ùˆ ÙˆØ§Ù„ØªØ·ÙˆØ± ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù‚Ù…Ø©',
        opposite: 'ØªØ¯Ù‡ÙˆØ±ØŒ Ø§Ù†Ø­Ø·Ø§Ø·'
      },
      'Ø§Ù„Ù…ÙØªØ±Ø³Ø§Øª': {
        meaning: 'Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ ØªØµØ·Ø§Ø¯ ÙˆØªØ£ÙƒÙ„ Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø£Ø®Ø±Ù‰',
        opposite: 'Ø§Ù„ÙØ±ÙŠØ³Ø©ØŒ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø§Ù„Ø£Ù„ÙŠÙØ©'
      },
      'Ø£Ø¶Ø®Ù…': {
        meaning: 'Ø£ÙƒØ¨Ø± Ø­Ø¬Ù…Ø§Ù‹ ÙˆØ£Ø¹Ø¸Ù…',
        opposite: 'Ø£ØµØºØ±ØŒ Ø£Ø¯Ù‚'
      },
      'Ù…Ø­ØµÙˆØ±Ø§Ù‹': {
        meaning: 'Ù…Ù‚ØªØµØ±Ø§Ù‹ ÙˆÙ…Ø­Ø¯ÙˆØ¯Ø§Ù‹ ÙÙŠ Ù…ÙƒØ§Ù† Ù…Ø¹ÙŠÙ†',
        opposite: 'Ù…Ù†ØªØ´Ø±Ø§Ù‹ØŒ Ø´Ø§Ø¦Ø¹Ø§Ù‹'
      },
      'Ø§Ù„Ø¯Ù‡Ø´Ø©': {
        meaning: 'Ø§Ù„ØªØ¹Ø¬Ø¨ ÙˆØ§Ù„Ø§Ø³ØªØºØ±Ø§Ø¨ Ø§Ù„Ø´Ø¯ÙŠØ¯',
        opposite: 'Ø§Ù„Ù„Ø§Ù…Ø¨Ø§Ù„Ø§Ø©ØŒ Ø§Ù„ØªÙˆÙ‚Ø¹'
      }
    };

    let activeTooltip = null;

    // Ø¯Ø§Ù„Ø© Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¨Ø¹Ù„Ø§Ù…Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©
    function wrapVocabWords(text) {
      let wrappedText = text;
      for (const [word, data] of Object.entries(vocabularyDatabase)) {
        const regex = new RegExp(`\\b${word}\\b`, 'g');
        wrappedText = wrappedText.replace(
          regex, 
          `<span class="vocab-word" data-word="${word}">${word}</span>`
        );
      }
      return wrappedText;
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
    function showVocabTooltip(event, word) {
      const vocabData = vocabularyDatabase[word];
      if (!vocabData) return;

      if (activeTooltip) {
        activeTooltip.remove();
      }

      const tooltip = document.createElement('div');
      tooltip.className = 'vocab-tooltip';
      
      let tooltipHTML = `
        <div class="vocab-tooltip-close" onclick="closeVocabTooltip()">Ã—</div>
        <div class="vocab-tooltip-word">ğŸ“š ${word}</div>
        <div class="vocab-tooltip-meaning">
          <strong>Ø§Ù„Ù…Ø¹Ù†Ù‰:</strong> ${vocabData.meaning}
        </div>
      `;

      if (vocabData.opposite) {
        tooltipHTML += `
          <div class="vocab-tooltip-opposite">
            <strong>Ø§Ù„Ù…Ø¶Ø§Ø¯:</strong> ${vocabData.opposite}
          </div>
        `;
      }

      tooltip.innerHTML = tooltipHTML;
      document.body.appendChild(tooltip);

      const rect = event.target.getBoundingClientRect();
      const tooltipRect = tooltip.getBoundingClientRect();
      
      let top = rect.bottom + window.scrollY + 10;
      let left = rect.left + window.scrollX + (rect.width / 2) - (tooltipRect.width / 2);

      if (left + tooltipRect.width > window.innerWidth) {
        left = window.innerWidth - tooltipRect.width - 20;
      }
      if (left < 10) {
        left = 10;
      }
      if (top + tooltipRect.height > window.innerHeight + window.scrollY) {
        top = rect.top + window.scrollY - tooltipRect.height - 10;
      }

      tooltip.style.top = `${top}px`;
      tooltip.style.left = `${left}px`;

      activeTooltip = tooltip;

      setTimeout(() => {
        document.addEventListener('click', closeTooltipOnClickOutside);
      }, 100);
    }

    function closeVocabTooltip() {
      if (activeTooltip) {
        activeTooltip.remove();
        activeTooltip = null;
        document.removeEventListener('click', closeTooltipOnClickOutside);
      }
    }

    function closeTooltipOnClickOutside(event) {
      if (activeTooltip && !activeTooltip.contains(event.target) && !event.target.classList.contains('vocab-word')) {
        closeVocabTooltip();
      }
    }

    window.closeVocabTooltip = closeVocabTooltip;

    function attachVocabListeners() {
      const vocabWords = document.querySelectorAll('.vocab-word');
      vocabWords.forEach(word => {
        word.addEventListener('click', (e) => {
          e.stopPropagation();
          const wordText = e.target.getAttribute('data-word');
          showVocabTooltip(e, wordText);
        });
      });
    }

    // Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø§ Ù‡Ùˆ...
    console.log('Dinosaurs Lesson with Interactive Vocabulary - Ready!');
  </script>
</body>
</html>
